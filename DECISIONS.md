# DECISIONS.md — 架構決策紀錄

## 2026-02-18 | 選擇 Electron + TypeScript
- **決策**: 使用 Electron 作為桌面框架
- **原因**: Claude Code 最擅長、與團隊技術棧一致（TypeScript）、跨平台潛力
- **替代方案**: Tauri（更輕但生態新）、Swift 原生（學習成本高）、Python GUI（音訊生態好但 UI 弱）
- **影響**: 打包體積較大（~150MB），但開發效率最高

## 2026-02-18 | 音訊擷取使用 BlackHole
- **決策**: 透過 BlackHole 虛擬音訊裝置擷取系統音訊
- **原因**: 免費、穩定、不需要 Chrome 擴充套件、可擷取所有系統音訊
- **替代方案**: macOS Screen Capture API（需額外權限）、Chrome Extension（綁定瀏覽器）
- **影響**: 使用者需手動安裝 BlackHole，程式提供安裝引導

## 2026-02-18 | 混合轉錄策略（本機 Whisper + 雲端 LLM）
- **決策**: 語音轉錄用本機 Whisper，摘要生成用 Gemini API
- **原因**: 轉錄資料量大適合本機處理（省費用）、摘要需要高品質 LLM
- **替代方案**: 全雲端（貴）、全本機（摘要品質差）
- **影響**: 需要下載 Whisper 模型（~500MB），首次啟動較慢

## 2026-02-18 | 每 3-5 分鐘分段處理
- **決策**: 音訊每 3-5 分鐘切一段，即時送轉錄
- **原因**: 會議結束後 3-5 分鐘內就能產出紀錄，不用等整段處理
- **替代方案**: 會後一次處理（等待時間長）
- **影響**: 需要管理分段的上下文連續性、講者辨識跨段落一致性

## 2026-02-18 | 輸出到 Google Docs + Email
- **決策**: 主要輸出為 Google Docs，同時寄 Email 摘要
- **原因**: Google Docs 方便團隊協作和搜尋、Email 作為即時通知
- **替代方案**: Notion（API 限制多）、本機 Markdown（不方便分享）
- **影響**: 需要 Google Cloud OAuth 設定
